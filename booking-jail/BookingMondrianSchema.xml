<Schema name="ojbc_booking_analytics_demo">
 	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Age">
		<Hierarchy name="PersonAge" visible="true" hasAll="true" primaryKey="PersonAgeID" primaryKeyTable="PersonAge" caption="Age">
			<Join leftKey="PersonAgeRangeID" rightKey="PersonAgeRangeID">
				<Table name="PersonAge"/>
				<Table name="PersonAgeRange"/>
			</Join>
			<Level name="AgeRange" visible="true" column="AgeRange" table="PersonAgeRange" ordinalColumn="AgeRangeSort" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
			<Level name="AgeYears" visible="true" column="AgeInYears" table="PersonAge" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Age Range">
		<Hierarchy name="AgeRange" visible="true" hasAll="true" allMemberName="All Ranges" allMemberCaption="All Ranges" primaryKey="PersonAgeRangeID" caption="Age Range">
			<Table name="PersonAgeRange"/>
			<Level name="Age Range" visible="true" table="PersonAgeRange" column="AgeRange" ordinalColumn="AgeRangeSort" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Agency">
		<Hierarchy name="Agency" visible="true" hasAll="true" allMemberName="All Agencies" allMemberCaption="All Agencies" primaryKey="AgencyID">
			<Table name="Agency"/>
			<Level name="Agency" visible="true" table="Agency" column="AgencyName" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Race">
		<Hierarchy name="Race" visible="true" hasAll="true" primaryKey="PersonRaceID" caption="Race">
			<Table name="PersonRace"/>
			<Level name="Race" visible="true" table="PersonRace" column="PersonRaceDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Gender">
		<Hierarchy name="Gender" visible="true" hasAll="true" allMemberName="All Sexes" allMemberCaption="All Sexes" caption="Sex" primaryKey="PersonSexID">
			<Table name="PersonSex"/>
			<Level name="Gender" visible="true" table="PersonSex" column="PersonSexID" nameColumn="PersonSexDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="PopulationType" >
		<Hierarchy name="PopulationType" hasAll="true" viaible="true" allMemberName="All Population Type" primaryKey="PopulationTypeID" caption="Population Type">
			<Table name="PopulationType"/>
			<Level name="Population Type" table="PopulationType" column="PopulationTypeDescription" uniqueMembers="true" type="String" levelType="Regular" hideMemberIf="Never" />
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="CaseStatus">
		<Hierarchy name="Case Status" visible="true" hasAll="true" allMemberName="All Statuses" allMemberCaption="All Case Statuses" caption="Case Status" primaryKey="CaseStatusTypeID">
			<Table name="CaseStatusType"/>
			<Level name="Case Status" visible="true" table="CaseStatusType" column="CaseStatusTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Pretrial Status">
		<Hierarchy name="Pretrial Status" visible="true" hasAll="true" allMemberName="All Statuses" allMemberCaption="All Statuses" caption="Statuses" primaryKey="PretrialStatusTypeID">
			<Table name="PretrialStatusType"/>
			<Level name="Pretrial Status" visible="true" table="PretrialStatusType" column="PretrialStatusTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Jurisdiction">
		<Hierarchy name="Jurisdiction" visible="true" hasAll="true" allMemberName="All Jurisdictions" allMemberCaption="All Jurisdictions" caption="Jurisdiction" primaryKey="JurisdictionID">
			<Table name="Jurisdiction"/>
			<Level name="Jurisdiction" visible="true" table="Jurisdiction" column="JurisdictionName" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Bed Type">
		<Hierarchy name="Bed Type" visible="true" hasAll="true" allMemberName="All Bed Types" allMemberCaption="All Bed Types" caption="Bed Type" primaryKey="BedTypeID">
			<Table name="BedType"/>
			<Level name="Bed Type" visible="true" table="BedType" column="BedTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Income Level">
		<Hierarchy name="Income Level" visible="true" hasAll="true" allMemberName="All Income Levels" allMemberCaption="All Income Levels" caption="Income Level" primaryKey="IncomeLevelTypeID">
			<Table name="IncomeLevelType"/>
			<Level name="Income Level" visible="true" table="IncomeLevelType" column="IncomeLevelTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Occupation">
		<Hierarchy name="Occupation" visible="true" hasAll="true" allMemberName="All Occupations" allMemberCaption="All Occupations" caption="Occupation" primaryKey="OccupationTypeID">
			<Table name="OccupationType"/>
			<Level name="Occupation" visible="true" table="OccupationType" column="OccupationTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Education Level">
		<Hierarchy name="Education Level" visible="true" hasAll="true" allMemberName="All Education Levels" allMemberCaption="All Education Levels" caption="Education Level" primaryKey="EducationTypeID">
			<Table name="EducationType"/>
			<Level name="Education Level" visible="true" table="EducationType" column="EducationLevel" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Language">
		<Hierarchy name="Language" visible="true" hasAll="true" allMemberName="All Languages" allMemberCaption="All Languages" caption="Language" primaryKey="LanguageTypeID">
			<Table name="LanguageType"/>
			<Level name="Language" visible="true" table="LanguageType" column="LanguageTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Housing Status">
		<Hierarchy name="Housing Status" visible="true" hasAll="true" allMemberName="All Housing Statuses" allMemberCaption="All Housing Statuses" caption="Housing Status" primaryKey="HousingStatusTypeID">
			<Table name="HousingStatusType"/>
			<Level name="Housing Status" visible="true" table="HousingStatusType" column="HousingStatusTypeDescription" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Bond Type">
		<Hierarchy name="Bond Type" visible="true" hasAll="true" allMemberName="All Bond Types" allMemberCaption="All Bond Types" caption="Bond Type" primaryKey="BondTypeID">
			<Table name="BondType"/>
			<Level name="Bond Type" visible="true" table="BondType" column="BondTypeDescription" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Population Type">
		<Hierarchy name="Population Type" visible="true" hasAll="true" allMemberName="All Population Types" allMemberCaption="All Population Types" caption="Population Type" primaryKey="PopulationTypeID">
			<Table name="PopulationType"/>
			<Level name="Population Type" visible="true" table="PopulationType" column="PopulationTypeDescription" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Charge Type">
		<Hierarchy name="Charge Type" visible="true" hasAll="true" allMemberName="All Charge Types" allMemberCaption="All Charge Types" caption="Charge Type" primaryKey="ChargeTypeID">
			<Table name="ChargeType"/>
			<Level name="Charge Type" visible="true" table="ChargeType" column="ChargeTypeDescription" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	<Dimension type="StandardDimension" visible="true" highCardinality="false" name="Behavioral Health Type">
		<Hierarchy name="Behavioral Health Type" visible="true" hasAll="true" allMemberName="All Behavioral Health Types" allMemberCaption="All Behavioral Health Types" caption="Behavioral Health Type" primaryKey="BehavioralHealthTypeID">
			<Table name="BehavioralHealthType"/>
			<Level name="Behavioral Health Type" visible="true" table="BehavioralHealthType" column="BehavioralHealthDescription" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never"/>
		</Hierarchy>
	</Dimension>
	
	<Cube name="JailEpisodeSnapshot">
		<View alias="jailEpisodeSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select JailEpisodeID, JurisdictionID, SendingAgency, LengthOfStay, CaseStatusTypeID, BondAmount, BondTypeID, PretrialStatusTypeID,  
        	 		 BedTypeID, HousingStatusTypeID, ArrestLocationLatitude, ArrestLocationLongitude, RecidivistIndicator, PersonAgeID, PersonRaceID, PersonSexID, PopulationTypeID,  
        	 		 IncomeLevelTypeID, OccupationTypeID, EducationTypeID, LanguageTypeID
        	 	  	 from JailEpisode t left join Person p on p.PersonID = t.PersonID where t.DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="CaseStatus" name="CaseStatus" visible="true" foreignKey="CaseStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bond Type" name="Bond Type" visible="true" foreignKey="BondTypeID" highCardinality="false"/>
		<DimensionUsage source="Pretrial Status" name="Pretrial Status" visible="true" foreignKey="PretrialStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Housing Status" name="Housing Status" visible="true" foreignKey="HousingStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bed Type" name="Bed Type" visible="true" foreignKey="BedTypeID" highCardinality="false"/>
		<DimensionUsage source="Age" name="Age" caption="Age" visible="true" foreignKey="PersonAgeID" highCardinality="false"/>
		<DimensionUsage source="Race" name="Race" visible="true" foreignKey="PersonRaceID" highCardinality="false"/>
		<DimensionUsage source="Gender" name="Gender" visible="true" foreignKey="PersonSexID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Income Level" name="Income Level" visible="true" foreignKey="IncomeLevelTypeID" highCardinality="false"/>
		<DimensionUsage source="Occupation" name="Occupation" visible="true" foreignKey="OccupationTypeID" highCardinality="false"/>
		<DimensionUsage source="Education Level" name="Education Level" visible="true" foreignKey="EducationTypeID" highCardinality="false"/>
		<DimensionUsage source="Language" name="Language" visible="true" foreignKey="LanguageTypeID" highCardinality="false"/>
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Bond Amount" column="BondAmount" aggregator="sum"
			formatString="#,###.00" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>
			
	<Cube name="JailEpisodeChargeTypeSnapshot">
		<View alias="jailEpisodeChargeTypeSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select t.JailEpisodeID, LengthOfStay, RecidivistIndicator, ChargeTypeID, JurisdictionID, SendingAgency, PopulationTypeID
					from JailEpisode t
					left join Person p on p.PersonID = t.PersonID
					left join JailEpisodeChargeType c on c.JailEpisodeID = t.JailEpisodeID 
					where t.DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Charge Type" name="Charge Type" visible="true" foreignKey="ChargeTypeID" highCardinality="false"/>
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>

	<Cube name="JailEpisodeBehavioralHealthSnapshot">
		<View alias="jailEpisodeBehavioralHealthSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select t.JailEpisodeID, LengthOfStay, RecidivistIndicator, BehavioralHealthTypeID,JurisdictionID, SendingAgency, PopulationTypeID
					from JailEpisode t
					left join Person p on p.PersonID = t.PersonID
					right join BehavioralHealthAssessment b on b.PersonID = t.PersonID 
					where t.DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Behavioral Health Type" name="Behavioral Health Type" visible="true" foreignKey="BehavioralHealthTypeID" highCardinality="false"/>
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>
	
	<Cube name="DailyPopulationSnapshot">
		<View alias="dailyPopulationSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select DailyPopulationID, EpisodeCount, JurisdictionID, SendingAgency, CaseStatusTypeID, PretrialStatusTypeID,   
        	 		 BedTypeID, HousingStatusTypeID, PersonAgeID, PersonRaceID, PersonSexID, PopulationTypeID,  
        	 		 IncomeLevelTypeID, OccupationTypeID, EducationTypeID, LanguageTypeID
        	 	  	 from DailyPopulation where DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="CaseStatus" name="CaseStatus" visible="true" foreignKey="CaseStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bond Type" name="Bond Type" visible="true" foreignKey="BondTypeID" highCardinality="false"/>
		<DimensionUsage source="Pretrial Status" name="Pretrial Status" visible="true" foreignKey="PretrialStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Housing Status" name="Housing Status" visible="true" foreignKey="HousingStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bed Type" name="Bed Type" visible="true" foreignKey="BedTypeID" highCardinality="false"/>
		<DimensionUsage source="Age" name="Age" caption="Age" visible="true" foreignKey="PersonAgeID" highCardinality="false"/>
		<DimensionUsage source="Race" name="Race" visible="true" foreignKey="PersonRaceID" highCardinality="false"/>
		<DimensionUsage source="Gender" name="Gender" visible="true" foreignKey="PersonSexID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Income Level" name="Income Level" visible="true" foreignKey="IncomeLevelTypeID" highCardinality="false"/>
		<DimensionUsage source="Occupation" name="Occupation" visible="true" foreignKey="OccupationTypeID" highCardinality="false"/>
		<DimensionUsage source="Education Level" name="Education Level" visible="true" foreignKey="EducationTypeID" highCardinality="false"/>
		<DimensionUsage source="Language" name="Language" visible="true" foreignKey="LanguageTypeID" highCardinality="false"/>
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	<Cube name="DailyPopulationChargesSnapshot">
		<View alias="dailyPopulationChargesSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select ChargedDailyPopulationID, EpisodeCount, ChargeTypeID, JurisdictionID, AgencyID, PopulationTypeID  
        	 	  	 from DailyPopulationCharges where DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="AgencyID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Charge Type" name="Charge Type" visible="true" foreignKey="ChargeTypeID" highCardinality="false"/>
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	
	<Cube name="DailyPopulationBehavioralHealthSnapshot">
		<View alias="dailyPopulationBehavioralHealthSnapshot">
		    <SQL dialect="mysql">
		        <![CDATA[ select BehavioralHealthDailyPopulationID, EpisodeCount, BehavioralHealthTypeID, JurisdictionID, AgencyID, PopulationTypeID  
        	 	  	 from DailyPopulationBehavioralHealth where DaysAgo = 1]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="AgencyID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Behavioral Health Type" name="Behavioral Health Type" visible="true" foreignKey="BehavioralHealthTypeID" highCardinality="false"/>
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	
	<Cube name="JailEpisode">
		<View alias="jailEpisode">
		    <SQL dialect="mysql">
		        <![CDATA[ select JailEpisodeID, DaysAgo, JurisdictionID, SendingAgency, LengthOfStay, CaseStatusTypeID, BondAmount, BondTypeID, PretrialStatusTypeID,   
        	 		 BedTypeID, HousingStatusTypeID, ArrestLocationLatitude, ArrestLocationLongitude, RecidivistIndicator, PersonAgeID, PersonRaceID, PersonSexID, PopulationTypeID,  
        	 		 IncomeLevelTypeID, OccupationTypeID, EducationTypeID, LanguageTypeID
        	 	  	 from JailEpisode t left join Person p on p.PersonID = t.PersonID order by DaysAgo desc]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="CaseStatus" name="CaseStatus" visible="true" foreignKey="CaseStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bond Type" name="Bond Type" visible="true" foreignKey="BondTypeID" highCardinality="false"/>
		<DimensionUsage source="Pretrial Status" name="Pretrial Status" visible="true" foreignKey="PretrialStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Housing Status" name="Housing Status" visible="true" foreignKey="HousingStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bed Type" name="Bed Type" visible="true" foreignKey="BedTypeID" highCardinality="false"/>
		<DimensionUsage source="Age" name="Age" caption="Age" visible="true" foreignKey="PersonAgeID" highCardinality="false"/>
		<DimensionUsage source="Race" name="Race" visible="true" foreignKey="PersonRaceID" highCardinality="false"/>
		<DimensionUsage source="Gender" name="Gender" visible="true" foreignKey="PersonSexID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Income Level" name="Income Level" visible="true" foreignKey="IncomeLevelTypeID" highCardinality="false"/>
		<DimensionUsage source="Occupation" name="Occupation" visible="true" foreignKey="OccupationTypeID" highCardinality="false"/>
		<DimensionUsage source="Education Level" name="Education Level" visible="true" foreignKey="EducationTypeID" highCardinality="false"/>
		<DimensionUsage source="Language" name="Language" visible="true" foreignKey="LanguageTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Bond Amount" column="BondAmount" aggregator="sum"
			formatString="#,###.00" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>
			
 	<Cube name="JailEpisodeChargeType">
		<View alias="jailEpisodeChargeType">
		    <SQL dialect="mysql">
		        <![CDATA[ select t.JailEpisodeID, DaysAgo, LengthOfStay, RecidivistIndicator, ChargeTypeID, JurisdictionID, SendingAgency, PopulationTypeID
					from JailEpisode t
					left join Person p on p.PersonID = t.PersonID
					left join JailEpisodeChargeType c on c.JailEpisodeID = t.JailEpisodeID ]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Charge Type" name="Charge Type" visible="true" foreignKey="ChargeTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>

	<Cube name="JailEpisodeBehavioralHealth">
		<View alias="jailEpisodeBehavioralHealth">
		    <SQL dialect="mysql">
		        <![CDATA[ select t.JailEpisodeID, DaysAgo, LengthOfStay, RecidivistIndicator, BehavioralHealthTypeID,JurisdictionID, SendingAgency, PopulationTypeID
					from JailEpisode t
					left join Person p on p.PersonID = t.PersonID
					right join BehavioralHealthAssessment b on b.PersonID = t.PersonID ]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Behavioral Health Type" name="Behavioral Health Type" visible="true" foreignKey="BehavioralHealthTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="Defendant Count" column="JailEpisodeID" aggregator="count" 
			formatString="#,###" />
 		<Measure name="Total Length Of Stay" column="LengthOfStay" aggregator="sum"
			formatString="#,###" />
 		<Measure name="Total Recidivist Count" column="RecidivistIndicator" aggregator="sum"
			formatString="#,###" visible="false"/>
			
		<CalculatedMember name="Average Length Of Stay" caption="Average Length Of Stay" dimension="Measures">
			<Formula>[Measures].[Total Length Of Stay] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#,###"/>
		</CalculatedMember>
		<CalculatedMember name="Recidivist Rate" caption="Recidivist Rate" dimension="Measures">
			<Formula>[Measures].[Total Recidivist Count] / [Measures].[Defendant Count]</Formula>
			<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
		</CalculatedMember>
	</Cube>

	<Cube name="DailyPopulation">
		<View alias="dailyPopulation">
		    <SQL dialect="mysql">
		        <![CDATA[ select DailyPopulationID, DaysAgo, EpisodeCount, JurisdictionID, SendingAgency, CaseStatusTypeID, PretrialStatusTypeID,  
        	 		 BedTypeID, HousingStatusTypeID, PersonAgeID, PersonRaceID, PersonSexID, PopulationTypeID,  
        	 		 IncomeLevelTypeID, OccupationTypeID, EducationTypeID, LanguageTypeID
        	 	  	 from DailyPopulation]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="SendingAgency" highCardinality="false"/>
		<DimensionUsage source="CaseStatus" name="CaseStatus" visible="true" foreignKey="CaseStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bond Type" name="Bond Type" visible="true" foreignKey="BondTypeID" highCardinality="false"/>
		<DimensionUsage source="Pretrial Status" name="Pretrial Status" visible="true" foreignKey="PretrialStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Housing Status" name="Housing Status" visible="true" foreignKey="HousingStatusTypeID" highCardinality="false"/>
		<DimensionUsage source="Bed Type" name="Bed Type" visible="true" foreignKey="BedTypeID" highCardinality="false"/>
		<DimensionUsage source="Age" name="Age" caption="Age" visible="true" foreignKey="PersonAgeID" highCardinality="false"/>
		<DimensionUsage source="Race" name="Race" visible="true" foreignKey="PersonRaceID" highCardinality="false"/>
		<DimensionUsage source="Gender" name="Gender" visible="true" foreignKey="PersonSexID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Income Level" name="Income Level" visible="true" foreignKey="IncomeLevelTypeID" highCardinality="false"/>
		<DimensionUsage source="Occupation" name="Occupation" visible="true" foreignKey="OccupationTypeID" highCardinality="false"/>
		<DimensionUsage source="Education Level" name="Education Level" visible="true" foreignKey="EducationTypeID" highCardinality="false"/>
		<DimensionUsage source="Language" name="Language" visible="true" foreignKey="LanguageTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	<Cube name="DailyPopulationCharges">
		<View alias="dailyPopulationCharges">
		    <SQL dialect="mysql">
		        <![CDATA[ select ChargedDailyPopulationID, DaysAgo, EpisodeCount, ChargeTypeID, JurisdictionID, AgencyID, PopulationTypeID  
        	 	  	 from DailyPopulationCharges]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="AgencyID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Charge Type" name="Charge Type" visible="true" foreignKey="ChargeTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	
	<Cube name="DailyPopulationBehavioralHealth">
		<View alias="dailyPopulationBehavioralHealth">
		    <SQL dialect="mysql">
		        <![CDATA[ select BehavioralHealthDailyPopulationID, DaysAgo, EpisodeCount, BehavioralHealthTypeID, JurisdictionID, AgencyID, PopulationTypeID  
        	 	  	 from DailyPopulationBehavioralHealth]]>
			</SQL>
		</View>
		<DimensionUsage source="Jurisdiction" name="Jurisdiction" visible="true" foreignKey="JurisdictionID" highCardinality="false"/>
		<DimensionUsage source="Agency" name="Agency" visible="true" foreignKey="AgencyID" highCardinality="false"/>
		<DimensionUsage source="Population Type" name="Population Type" visible="true" foreignKey="PopulationTypeID" highCardinality="false"/>
		<DimensionUsage source="Behavioral Health Type" name="Behavioral Health Type" visible="true" foreignKey="BehavioralHealthTypeID" highCardinality="false"/>
		<Dimension visible="true" name="Days Ago">
			<Hierarchy hasAll="true">
				<Level name="Days Ago" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		<Dimension visible="true" name="Days Ago filter">
			<Hierarchy hasAll="true">
				<Level name="Days Ago filter" column="DaysAgo" uniqueMembers="true"/>
			</Hierarchy>
		</Dimension>		
		
 		<Measure name="DailyPopulation" column="EpisodeCount" aggregator="sum" 
			formatString="#,###" />
	</Cube>
	
</Schema>