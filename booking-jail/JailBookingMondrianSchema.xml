<Schema name="ojbc_booking_analytics" metamodelVersion='4.0' xsi:noNamespaceSchemaLocation="mondrian4.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<PhysicalSchema>
		<Table name="Agency"/>
		<Table name="AssessmentCategoryType"/>
		<Table name="BehavioralHealthEvaluationType"/>
		<Table name="BondStatusType"/>
		<Table name="BondType"/>
		<Table name="CaseStatusType"/>
		<Table name="ChargeClassType"/>
		<Table name="ChargeDispositionType"/>
		<Table name="ChargeType"/>
		<Table name="Date"/>
		<Table name="DomicileStatusType"/>
		<Table name="EducationLevelType"/>
		<Table name="Facility"/>
		<Table name="JurisdictionType"/>
		<Table name="LanguageType"/>
		<Table name="MedicaidStatusType"/>
		<Table name="MedicationType"/>
		<Table name="MilitaryServiceStatusType"/>
		<Table name="OccupationType"/>
		<Table name="PersonAgeRangeType" keyColumn="PersonAgeRangeTypeID"/>
		<Table name="PersonAgeType" keyColumn="PersonAgeTypeID"/>
		<Link source="PersonAgeRangeType" target="PersonAgeType">
			<ForeignKey>
                <Column name="PersonAgeRangeTypeID"/>
            </ForeignKey>
		</Link>
		<Table name="PersonEthnicityType"/>
		<Table name="PersonRaceType"/>
		<Table name="PersonSexType"/>
		<Table name="PopulationType"/>
		<Table name="ProgramEligibilityType"/>
		<Table name="SexOffenderStatusType"/>
		<Table name="SupervisionUnitType"/>
		<Table name="TreatmentAdmissionReasonType"/>
		<Table name="TreatmentStatusType"/>
		<Table name="TreatmentProviderType"/>
		<Table name="WorkReleaseStatusType"/>
		<Table name="FullBookingView"/>
		<InlineTable alias="SevereMentalIllnessType">
			<ColumnDefs>
				<ColumnDef name="SevereMentalIllnessTypeID" type="Integer"/>
				<ColumnDef name="SevereMentalIllnessTypeDescription" type="String"/>
			</ColumnDefs>
			<Rows>
				<Row>
					<Value column="SevereMentalIllnessTypeID">99998</Value>
					<Value column="SevereMentalIllnessTypeDescription">Not Assessed</Value>
				</Row>
				<Row>
					<Value column="SevereMentalIllnessTypeID">0</Value>
					<Value column="SevereMentalIllnessTypeDescription">No</Value>
				</Row>
				<Row>
					<Value column="SevereMentalIllnessTypeID">1</Value>
					<Value column="SevereMentalIllnessTypeDescription">Yes</Value>
				</Row>
			</Rows>
		</InlineTable>
	</PhysicalSchema>	
	<Dimension visible="true" name="Date" table="Date" key="DateID" type="TIME">
		<Attributes>
			 <Attribute name="DateID" keyColumn="DateID" hasHierarchy="false"/>
			 <Attribute name="Year" keyColumn="YearLabel" hasHierarchy="false"/>
			 <Attribute name="Quarter" hasHierarchy="false" levelType="TimeQuarters">
            	<Key>
                    <Column name="YearLabel"/>
                    <Column name="CalendarQuarter"/>
                </Key>
                <Name>
                    <Column name="CalendarQuarter"/>
                </Name>
            </Attribute>
            <Attribute name="Month" hasHierarchy="false" levelType="TimeMonths">
            	<Key>
                    <Column name="YearLabel"/>
                    <Column name="CalendarQuarter"/>
                    <Column name="Month"/>
                </Key>
                <Name>
                    <Column name="Month"/>
                </Name>
            </Attribute>
            <Attribute name="Day" hasHierarchy="false" levelType="TimeDays">
            	<Key>
                    <Column name="YearLabel"/>
                    <Column name="CalendarQuarter"/>
                    <Column name="Month"/>
                    <Column name="Day"/>
                </Key>
                <Name>
                    <Column name="Day"/>
                </Name>
            </Attribute>
            <Attribute name="Date" keyColumn="CalendarDate" hasHierarchy="false" levelType="TimeDays"/>            
            <Attribute name="Day of Week" keyColumn="DayOfWeek" hasHierarchy="false" levelType="TimeDays"/>  
		</Attributes>
		 <Hierarchies>
            <Hierarchy name="DateYMD" caption="Year/Month/Day" allMemberName="All Years" allMemberCaption="All Years">
 				<Level attribute="Year" />
                <Level attribute="Quarter" />
                <Level attribute="Month" />
                <Level attribute="Day" />
            </Hierarchy>
            <Hierarchy name="CalDate" caption="Calendar Date" allMemberName="All Dates" allMemberCaption="All Dates">
                <Level attribute="Date"/>
            </Hierarchy>
            <Hierarchy name="Day of Week" caption="Day of Week" allMemberName="All Days" allMemberCaption="All Days">
                <Level attribute="Day of Week"/>
            </Hierarchy>
        </Hierarchies>
	</Dimension>

	<Dimension visible="true" name="Race" table="PersonRaceType" key="PersonRaceTypeID">
		<Attributes>
			<Attribute name="PersonRaceTypeID" keyColumn="PersonRaceTypeID" hasHierarchy="false"/>
			<Attribute name="PersonRaceTypeDescription" keyColumn="PersonRaceTypeDescription" hasHierarchy="false" caption="Person Race"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Race" visible="true" caption="Race" allMemberName="All Races" allMemberCaption="All Races">	
				<Level attribute="PersonRaceTypeDescription" caption="Person Race"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>	
		
	<Dimension name="Age" key="PersonAgeTypeID">
        <Attributes>
            <Attribute table="PersonAgeType" name="PersonAgeTypeID" keyColumn="PersonAgeTypeID" hasHierarchy="false" />
            <Attribute table="PersonAgeRangeType" name="AgeRange"  keyColumn="AgeRange" hasHierarchy="false"/>
            <Attribute table="PersonAgeType" name="AgeInYears" hasHierarchy="false" >
                <Key>
                    <Column table="PersonAgeRangeType" name="AgeRange"/>
                    <Column name="AgeInYears"/>
                </Key>
                <Name>
                    <Column name="AgeInYears"/>
                </Name>
            </Attribute>
        </Attributes>
        <Hierarchies>
            <Hierarchy name="Age" allMemberName="All Ages">
                <Level attribute="AgeRange" caption="Age Range"/>
                <Level attribute="AgeInYears" parentAttribute="AgeRange" caption="Age"/>
            </Hierarchy>
        </Hierarchies>
	</Dimension>
	
	<Dimension name="Age Range" table="PersonAgeRangTypee" key="PersonAgeRangeTypeID">
		<Attributes>
			<Attribute keyColumn="PersonAgeRangeTypeID" hasHierarchy="false" name="PersonAgeRangeTypeID"/>
			<Attribute keyColumn="AgeRange" hasHierarchy='false' name="PersonAgeRange" orderByColumn="AgeRangeSort"/>
		</Attributes>
		<Hierarchies>
            <Hierarchy name="Age Range" allMemberName="All Age Ranges">
                <Level attribute='PersonAgeRange' caption="Age Range"/>
            </Hierarchy>
        </Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Sex" table="PersonSexType" key="PersonSexTypeID">
		<Attributes>
			<Attribute name="PersonSexTypeID" keyColumn="PersonSexTypeID" hasHierarchy="false"/>
			<Attribute name="PersonSexTypeDescription" keyColumn="PersonSexTypeDescription" hasHierarchy="false" caption="Person Sex"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Sex" visible="true" caption="Sex" allMemberName="All Sexes" allMemberCaption="All Sexes">	
				<Level attribute="PersonSexTypeDescription" caption="Person Sex"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Ethnicity" table="PersonEthnicityType" key="PersonEthnicityTypeID">
		<Attributes>
			<Attribute name="PersonEthnicityTypeID" keyColumn="PersonEthnicityTypeID" hasHierarchy="false"/>
			<Attribute name="PersonEthnicityTypeDescription" keyColumn="PersonEthnicityTypeDescription" hasHierarchy="false" caption="Person Ethnicity"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Ethnicity" visible="true" caption="Ethnicity" allMemberName="All Ethnicities" allMemberCaption="All Ethnicities">	
				<Level attribute="PersonEthnicityTypeDescription" caption="Person Ethnicity"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="ChargeClass" table="ChargeClassType" key="ChargeClassTypeID" caption="Charge Class">
		<Attributes>
			<Attribute name="ChargeClassTypeID" keyColumn="ChargeClassTypeID" hasHierarchy="false"/>
			<Attribute name="ChargeClassTypeDescription" keyColumn="ChargeClassTypeDescription" hasHierarchy="false" caption="Charge Class"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="ChargeClass" visible="true" caption="Charge Class" allMemberName="All Charge Classes" allMemberCaption="All Charge Classes">	
				<Level attribute="ChargeClassTypeDescription" caption="Charge Class"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Charge" table="ChargeType" key="ChargeTypeID" caption="Charge Type">
		<Attributes>
			<Attribute name="ChargeTypeID" keyColumn="ChargeTypeID" hasHierarchy="false"/>
			<Attribute name="ChargeTypeDescription" keyColumn="ChargeTypeDescription" hasHierarchy="false" caption="Charge Type"/>
			<Attribute name="ChargeTypeCategory" keyColumn="ChargeTypeCategory" hasHierarchy="false" caption="Charge Category"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="ChargeType" visible="true" caption="Charge Type" allMemberName="All Charge Types" allMemberCaption="All Charge Types">	
				<Level attribute="ChargeTypeDescription" caption="Charge Type"/>
				<Level attribute="ChargeTypeCategory" caption="Charge Category"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="ChargeDisposition" table="ChargeDispositionType" key="ChargeDispositionTypeID" caption="Charge Disposition">
		<Attributes>
			<Attribute name="ChargeDispositionTypeID" keyColumn="ChargeDispositionTypeID" hasHierarchy="false"/>
			<Attribute name="ChargeDispositionTypeCategory" keyColumn="ChargeDispositionTypeCategory" hasHierarchy="false" caption="Charge Disposition"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="ChargeDispositionType" visible="true" caption="Charge Disposition" allMemberName="All Charge Dispositions" allMemberCaption="All Charge Dispositions">	
				<Level attribute="ChargeDispositionTypeCategory" caption="Charge Disposition"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="BondStatus" table="BondStatusType" key="BondStatusTypeID" caption="Bond Status">
		<Attributes>
			<Attribute name="BondStatusTypeID" keyColumn="BondStatusTypeID" hasHierarchy="false"/>
			<Attribute name="BondStatusTypeCategory" keyColumn="BondStatusTypeCategory" hasHierarchy="false" caption="Bond Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="BondStatusType" visible="true" caption="Bond Status" allMemberName="All Bond Statuses" allMemberCaption="All Bond Statuses">	
				<Level attribute="BondStatusTypeCategory" caption="Bond Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Bond" table="BondType" key="BondTypeID" caption="Bond Type">
		<Attributes>
			<Attribute name="BondTypeID" keyColumn="BondTypeID" hasHierarchy="false"/>
			<Attribute name="BondTypeCategory" keyColumn="BondTypeCategory" hasHierarchy="false" caption="Bond Type"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="BondType" visible="true" caption="Bond Type" allMemberName="All Bond Types" allMemberCaption="All Bond Types">	
				<Level attribute="BondTypeCategory" caption="Bond Type"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Jurisdiction" table="JurisdictionType" key="JurisdictionTypeID" caption="Charge Jurisdiction">
		<Attributes>
			<Attribute name="JurisdictionTypeID" keyColumn="JurisdictionTypeID" hasHierarchy="false"/>
			<Attribute name="JurisdictionCategory" keyColumn="JurisdictionCategory" hasHierarchy="false" caption="Jurisdiction"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="JurisdictionType" visible="true" caption="Charge Jurisdiction" allMemberName="All Jurisdictions" allMemberCaption="All Jurisdictions">	
				<Level attribute="JurisdictionCategory" caption="Jurisdiction"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="CaseStatus" table="CaseStatusType" key="CaseStatusTypeID" caption="Case Status">
		<Attributes>
			<Attribute name="CaseStatusTypeID" keyColumn="CaseStatusTypeID" hasHierarchy="false"/>
			<Attribute name="CaseStatusTypeCategory" keyColumn="CaseStatusTypeCategory" hasHierarchy="false" caption="Case Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="CaseStatusType" visible="true" caption="Case Status" allMemberName="All Case Statuses" allMemberCaption="All Case Statuses">	
				<Level attribute="CaseStatusTypeCategory" caption="Case Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="ArrestAgency" table="Agency" key="AgencyID" caption="Arrest Agency">
		<Attributes>
			<Attribute name="AgencyID" keyColumn="AgencyID" hasHierarchy="false"/>
			<Attribute name="AgencyCategory" keyColumn="AgencyCategory" hasHierarchy="false" caption="Arrest Agency"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="ArrestAgency" visible="true" caption="Arrest Agency" allMemberName="All Arrest Agencies" allMemberCaption="All Arrest Agencies">	
				<Level attribute="AgencyCategory" caption="Arrest Agency"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="SexOffenderStatus" table="SexOffenderStatusType" key="SexOffenderStatusTypeID" caption="Sex Offender Status">
		<Attributes>
			<Attribute name="SexOffenderStatusTypeID" keyColumn="SexOffenderStatusTypeID" hasHierarchy="false"/>
			<Attribute name="SexOffenderStatusTypeDescription" keyColumn="SexOffenderStatusTypeDescription" hasHierarchy="false" caption="Sex Offender Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="SexOffenderStatus" visible="true" caption="Sex Offender Status" allMemberName="All Sex Offender Statuses" allMemberCaption="All Sex Offender Statuses">	
				<Level attribute="SexOffenderStatusTypeDescription" caption="Sex Offender Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>	
	
	<Dimension visible="true" name="WorkReleaseStatus" table="WorkReleaseStatusType" key="WorkReleaseStatusTypeID" caption="Work Release Status">
		<Attributes>
			<Attribute name="WorkReleaseStatusTypeID" keyColumn="WorkReleaseStatusTypeID" hasHierarchy="false"/>
			<Attribute name="WorkReleaseStatusTypeDescription" keyColumn="WorkReleaseStatusTypeDescription" hasHierarchy="false" caption="Sex Offender Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="WorkReleaseStatus" visible="true" caption="Work Release Status" allMemberName="All Work Release Statuses" allMemberCaption="All Work Release Statuses">	
				<Level attribute="WorkReleaseStatusTypeDescription" caption="Work Release Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="ProgramEligibility" table="ProgramEligibilityType" key="ProgramEligibilityTypeID" caption="Program Eligibility">
		<Attributes>
			<Attribute name="ProgramEligibilityTypeID" keyColumn="ProgramEligibilityTypeID" hasHierarchy="false"/>
			<Attribute name="ProgramEligibilityTypeDescription" keyColumn="ProgramEligibilityTypeDescription" hasHierarchy="false" caption="Program Eligibility"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="ProgramEligibility" visible="true" caption="Program Eligibility" allMemberName="All Program Eligibilities" allMemberCaption="All Program Eligibilities">	
				<Level attribute="ProgramEligibilityTypeDescription" caption="Program Eligibility"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="MilitaryServiceStatus" table="MilitaryServiceStatusType" key="MilitaryServiceStatusTypeID" caption="Military Service Status">
		<Attributes>
			<Attribute name="MilitaryServiceStatusTypeID" keyColumn="MilitaryServiceStatusTypeID" hasHierarchy="false"/>
			<Attribute name="MilitaryServiceStatusTypeDescription" keyColumn="MilitaryServiceStatusTypeDescription" hasHierarchy="false" caption="Military Service Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="MilitaryServiceStatus" visible="true" caption="Military Service Status" allMemberName="All Military Service Statuses" allMemberCaption="All Military Service Statuses">	
				<Level attribute="MilitaryServiceStatusTypeDescription" caption="Military Service Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	

	<Dimension visible="true" name="SeverMentalIllness" table="SevereMentalIllnessType" key="SevereMentalIllnessTypeID" caption="Severe Mental Illness">
		<Attributes>
			<Attribute name="SevereMentalIllnessTypeID" keyColumn="SevereMentalIllnessTypeID" hasHierarchy="false"/>
			<Attribute name="SevereMentalIllnessTypeDescription" keyColumn="SevereMentalIllnessTypeDescription" hasHierarchy="false" caption="Severe Mental Illness"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="SevereMentalIllness" visible="true" caption="Severe Mental Illness" allMemberName="All Severe Mental Illnesses" allMemberCaption="All Severe Mental Illnesses">	
				<Level attribute="SevereMentalIllnessTypeDescription" caption="Severe Mental Illness"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="DomicileStatus" table="DomicileStatusType" key="DomicileStatusTypeID" caption="Domicile Status">
		<Attributes>
			<Attribute name="DomicileStatusTypeID" keyColumn="DomicileStatusTypeID" hasHierarchy="false"/>
			<Attribute name="DomicileStatusTypeDescription" keyColumn="DomicileStatusTypeDescription" hasHierarchy="false" caption="Domicile Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="DomicileStatus" visible="true" caption="Domicile Status" allMemberName="All Domicile Statuses" allMemberCaption="All Domicile Statuses">	
				<Level attribute="DomicileStatusTypeDescription" caption="Domicile Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Population" table="PopulationType" key="PopulationTypeID" caption="Population">
		<Attributes>
			<Attribute name="PopulationTypeID" keyColumn="PopulationTypeID" hasHierarchy="false"/>
			<Attribute name="PopulationTypeDescription" keyColumn="PopulationTypeDescription" hasHierarchy="false" caption="Population"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Population" visible="true" caption="Population" allMemberName="All Populations" allMemberCaption="All Populations">	
				<Level attribute="PopulationTypeDescription" caption="Population"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Language" table="LanguageType" key="LanguageTypeID" caption="Language">
		<Attributes>
			<Attribute name="LanguageTypeID" keyColumn="LanguageTypeID" hasHierarchy="false"/>
			<Attribute name="LanguageTypeDescription" keyColumn="LanguageTypeDescription" hasHierarchy="false" caption="Language"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Language" visible="true" caption="Language" allMemberName="All Languages" allMemberCaption="All Languages">	
				<Level attribute="LanguageTypeDescription" caption="Language"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="EducationLevel" table="EducationLevelType" key="EducationLevelTypeID" caption="Education Level">
		<Attributes>
			<Attribute name="EducationLevelTypeID" keyColumn="EducationLevelTypeID" hasHierarchy="false"/>
			<Attribute name="EducationLevelTypeDescription" keyColumn="EducationLevelTypeDescription" hasHierarchy="false" caption="Education Level"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="EducationLevel" visible="true" caption="Education Level" allMemberName="All Education Levels" allMemberCaption="All Education Levels">	
				<Level attribute="EducationLevelTypeDescription" caption="Education Level"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="SupervisionUnit" table="SupervisionUnitType" key="SupervisionUnitTypeID" caption="Supervision Unit">
		<Attributes>
			<Attribute name="SupervisionUnitTypeID" keyColumn="SupervisionUnitTypeID" hasHierarchy="false"/>
			<Attribute name="SupervisionUnitTypeDescription" keyColumn="SupervisionUnitTypeDescription" hasHierarchy="false" caption="Supervision Unit"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="SupervisionUnit" visible="true" caption="Supervision Unit" allMemberName="All Supervision Units" allMemberCaption="All Supervision Units">	
				<Level attribute="SupervisionUnitTypeDescription" caption="Supervision Unit"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="Facility" table="Facility" key="FacilityID" caption="Facility">
		<Attributes>
			<Attribute name="FacilityID" keyColumn="FacilityID" hasHierarchy="false"/>
			<Attribute name="FacilityDescription" keyColumn="FacilityDescription" hasHierarchy="false" caption="Facility"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Facility" visible="true" caption="Facility" allMemberName="All Facilities" allMemberCaption="All Facilities">	
				<Level attribute="FacilityDescription" caption="Facility"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="AssessmentCategory" table="AssessmentCategoryType" key="AssessmentCategoryTypeID" caption="Assessment Category">
		<Attributes>
			<Attribute name="AssessmentCategoryTypeID" keyColumn="AssessmentCategoryTypeID" hasHierarchy="false"/>
			<Attribute name="AssessmentCategoryTypeDescription" keyColumn="AssessmentCategoryTypeDescription" hasHierarchy="false" caption="Assessment Category"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="AssessmentCategory" visible="true" caption="Assessment Category" allMemberName="All Assessment Categories" allMemberCaption="All Assessment Categories">	
				<Level attribute="AssessmentCategoryTypeDescription" caption="Assessment Category"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension> 
	<Dimension visible="true" name="Medication" table="MedicationType" key="MedicationTypeID" caption="Prescribed Medication">
		<Attributes>
			<Attribute name="MedicationTypeID" keyColumn="MedicationTypeID" hasHierarchy="false"/>
			<Attribute name="MedicationTypeDescription" keyColumn="MedicationTypeDescription" hasHierarchy="false" caption="Medication"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Medication" visible="true" caption="Prescribed Medication" allMemberName="All Medications" allMemberCaption="All Medications">	
				<Level attribute="MedicationTypeDescription" caption="Medication"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	<Dimension visible="true" name="Occupation" table="OccupationType" key="OccupationTypeID" caption="Occupation">
		<Attributes>
			<Attribute name="OccupationTypeID" keyColumn="OccupationTypeID" hasHierarchy="false"/>
			<Attribute name="OccupationTypeDescription" keyColumn="OccupationTypeDescription" hasHierarchy="false" caption="Occupation"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="Occupation" visible="true" caption="Occupation" allMemberName="All Occupations" allMemberCaption="All Occupations">	
				<Level attribute="OccupationTypeDescription" caption="Occupation"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="MedicaidStatus" table="MedicaidStatusType" key="MedicaidStatusTypeID" caption="Medicaid Status">
		<Attributes>
			<Attribute name="MedicaidStatusTypeID" keyColumn="MedicaidStatusTypeID" hasHierarchy="false"/>
			<Attribute name="MedicaidStatusTypeDescription" keyColumn="MedicaidStatusTypeDescription" hasHierarchy="false" caption="Medicaid Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="MedicaidStatus" visible="true" caption="Medicaid Status" allMemberName="All Medicaid Statuses" allMemberCaption="All Medicaid Statuses">	
				<Level attribute="MedicaidStatusTypeDescription" caption="Medicaid Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="BehavioralHealthEvaluationType" table="BehavioralHealthEvaluationType" key="BehavioralHealthEvaluationTypeID" caption="Diagnosis">
		<Attributes>
			<Attribute name="BehavioralHealthEvaluationTypeID" keyColumn="BehavioralHealthEvaluationTypeID" hasHierarchy="false"/>
			<Attribute name="BehavioralHealthEvaluationTypeDescription" keyColumn="BehavioralHealthEvaluationTypeDescription" hasHierarchy="false" caption="Diagnosis"/>
			<Attribute name="BehavioralHealthEvaluationTypeCategory" keyColumn="BehavioralHealthEvaluationTypeCategory" hasHierarchy="false" caption="Diagnosis Category"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="BehavioralHealthEvaluationType" visible="true" caption="Diagnosis" allMemberName="All Diagnoses" allMemberCaption="All Diagnoses">	
				<Level attribute="BehavioralHealthEvaluationTypeCategory" caption="Diagnosis Category"/>
				<Level attribute="BehavioralHealthEvaluationTypeDescription" caption="Diagnosis"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="TreatmentProvider" table="TreatmentProviderType" key="TreatmentProviderTypeID" caption="Treatment Provider">
		<Attributes>
			<Attribute name="TreatmentProviderTypeID" keyColumn="TreatmentProviderTypeID" hasHierarchy="false"/>
			<Attribute name="TreatmentProviderTypeDescription" keyColumn="TreatmentProviderTypeDescription" hasHierarchy="false" caption="Treatment Provider"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="TreatmentProvider" visible="true" caption="Treatment Provider" allMemberName="All Treatment Providers" allMemberCaption="All Treatment Providers">	
				<Level attribute="TreatmentProviderTypeDescription" caption="Treatment Provider"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Dimension visible="true" name="TreatmentStatus" table="TreatmentStatusType" key="TreatmentStatusTypeID" caption="Treatment Status">
		<Attributes>
			<Attribute name="TreatmentStatusTypeID" keyColumn="TreatmentStatusTypeID" hasHierarchy="false"/>
			<Attribute name="TreatmentStatusTypeDescription" keyColumn="TreatmentStatusTypeDescription" hasHierarchy="false" caption="Treatment Status"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="TreatmentStatus" visible="true" caption="Treatment Status" allMemberName="All Treatment Statuses" allMemberCaption="All Treatment Statuses">	
				<Level attribute="TreatmentStatusTypeDescription" caption="Treatment Status"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	<Dimension visible="true" name="TreatmentAdmissionReason" table="TreatmentAdmissionReasonType" key="TreatmentAdmissionReasonTypeID" caption="Treatment Admission Reason">
		<Attributes>
			<Attribute name="TreatmentAdmissionReasonTypeID" keyColumn="TreatmentAdmissionReasonTypeID" hasHierarchy="false"/>
			<Attribute name="TreatmentAdmissionReasonTypeDescription" keyColumn="TreatmentAdmissionReasonTypeDescription" hasHierarchy="false" caption="Treatment Admission Reason"/>
		</Attributes>
		<Hierarchies>
			<Hierarchy name="TreatmentAdmissionReason" visible="true" caption="Treatment Admission Reason" allMemberName="All Treatment Admission Reasons" allMemberCaption="All Treatment Admission Reasons">	
				<Level attribute="TreatmentAdmissionReasonTypeDescription" caption="Treatment Admission Reason"/>
			</Hierarchy>
		</Hierarchies>
	</Dimension>
	
	<Cube name="Jail-Booking-Analytics" visible="true">
		<Dimensions>
			<Dimension source="Age"/>
			<Dimension source="Date" caption="Jail Episode Start Date"/>
			<Dimension source="Race"/>
			<Dimension source="Sex"/>
			<Dimension source="Ethnicity"/>
			<!-- TODO: update ER Diagram to remove charge class category -->
			<Dimension source="ChargeClass"/>
			<Dimension source="Charge"/>
			<Dimension source="ChargeDisposition"/>
			<Dimension source="BondStatus"/>
			<Dimension source="Bond"/>
			<Dimension source="Jurisdiction"/>
			<Dimension source="CaseStatus"/>
			<Dimension source="ArrestAgency"/>
			<Dimension source="SexOffenderStatus"/>
			<Dimension source="WorkReleaseStatus"/>
			<Dimension source="ProgramEligibility"/>
			<Dimension source="MilitaryServiceStatus"/>
			<Dimension source="SeverMentalIllness"/>
			<Dimension source="DomicileStatus"/>
			<Dimension source="Language"/>
			<Dimension source="EducationLevel"/>
			<Dimension source="SupervisionUnit"/>
			<Dimension source="Facility"/>
			<Dimension source="AssessmentCategory"/>
			<Dimension source="Medication"/>
			<Dimension source="Occupation"/>
			<Dimension source="Population"/>
			<Dimension source="MedicaidStatus"/>
			<Dimension source="BehavioralHealthEvaluationType"/>
			<Dimension source="TreatmentProvider"/>
			<Dimension source="TreatmentStatus"/>
			<Dimension source="TreatmentAdmissionReason"/>
			<!-- This is Mondrian 4's way of creating a degenerate dimension -->
			<Dimension visible="true" name="Episode Status" caption="Jail Episode Status">
				<Attributes>
					<Attribute name="Episode Status" keyColumn="IsActiveDimension" hasHierarchy="false" table="FullBookingView"/>
				</Attributes>
				<Hierarchies>
					<Hierarchy name="Episode Status"  visible="true" hasAll="true"  caption="Jail Episode Status" allMemberCaption="All Jail Episode Statuses">
						<Level attribute="Episode Status"/>
					</Hierarchy>
				</Hierarchies>
			</Dimension>
		</Dimensions>
		<MeasureGroups>
    		<MeasureGroup table="FullBookingView" name="Jail Booking">
	    		<Measures>
	    			<Measure name="Booking Count" column="JailEpisodeID" aggregator="distinct-count" visible="true" caption="Jail Episode Count"/>
	    			<Measure name="Arrest Count" column="JailEpisodeArrestID" aggregator="distinct-count" visible="true" caption="Arrest Count"/>
	    			<Measure name="Average Length Of Stay" column="LengthOfStay" aggregator="avg" visible="true"/>
	    			<Measure name="SixMonthRebookingCount" column="SixMonthRebookingCount" aggregator="distinct-count"  visible="false"/>
					<Measure name="OneYearRebookingCount" column="OneYearRebookingCount" aggregator="distinct-count"  visible="false"/>
					<Measure name="TwoYearRebookingCount" column="TwoYearRebookingCount" aggregator="distinct-count"  visible="false"/>
					<Measure name="Charge Count" column="JailEpisodeChargeID" aggregator="count" visible="true"/>
			 		<Measure name="Average Bond Amount" column="BondAmount" aggregator="avg" formatString="$0.00" visible="true"/>
					<Measure name="SMICount" column="SevereMentalIllnessBookingCount" aggregator="distinct-count" visible="false"/>
					<Measure name="InTreatmentAtBookingCount" column="InTreatmentAtBookingCount" aggregator="distinct-count" visible="false"/>
	    		</Measures>
	    		<DimensionLinks>
	    			<ForeignKeyLink dimension="Age" foreignKeyColumn="PersonAgeTypeID"/>
	    			<ForeignKeyLink dimension="Date" foreignKeyColumn="EpisodeStartDateID"/>
	    			<ForeignKeyLink dimension="Race" foreignKeyColumn="PersonRaceTypeID"/>
	    			<ForeignKeyLink dimension="Sex" foreignKeyColumn="PersonSexTypeID"/>
	    			<ForeignKeyLink dimension="Ethnicity" foreignKeyColumn="PersonEthnicityTypeID"/>
	    			<ForeignKeyLink dimension="ChargeClass" foreignKeyColumn="ChargeClassTypeID"/>
	    			<ForeignKeyLink dimension="Charge" foreignKeyColumn="ChargeTypeID"/>
	    			<ForeignKeyLink dimension="ChargeDisposition" foreignKeyColumn="ChargeDispositionTypeID"/>
	    			<ForeignKeyLink dimension="BondStatus" foreignKeyColumn="BondStatusTypeID"/>
	    			<ForeignKeyLink dimension="Bond" foreignKeyColumn="BondTypeID"/>
	    			<ForeignKeyLink dimension="Jurisdiction" foreignKeyColumn="JurisdictionTypeID"/>
	    			<ForeignKeyLink dimension="CaseStatus" foreignKeyColumn="CaseStatusTypeID"/>
	    			<ForeignKeyLink dimension="ArrestAgency" foreignKeyColumn="ArrestAgencyID"/>
	    			<ForeignKeyLink dimension="SexOffenderStatus" foreignKeyColumn="SexOffenderStatusTypeID"/>
	    			<ForeignKeyLink dimension="WorkReleaseStatus" foreignKeyColumn="WorkReleaseStatusTypeID"/>
	    			<ForeignKeyLink dimension="ProgramEligibility" foreignKeyColumn="ProgramEligibilityTypeID"/>
	    			<ForeignKeyLink dimension="MilitaryServiceStatus" foreignKeyColumn="MilitaryServiceStatusTypeID"/>
	    			<ForeignKeyLink dimension="SeverMentalIllness" foreignKeyColumn="SevereMentalIllnessIndicatorDimension"/>
	    			<ForeignKeyLink dimension="DomicileStatus" foreignKeyColumn="DomicileStatusTypeID"/>
	    			<ForeignKeyLink dimension="Language" foreignKeyColumn="LanguageTypeID"/>
	    			<ForeignKeyLink dimension="EducationLevel" foreignKeyColumn="EducationLevelTypeID"/>
	    			<ForeignKeyLink dimension="SupervisionUnit" foreignKeyColumn="SupervisionUnitTypeID"/>
	    			<ForeignKeyLink dimension="Facility" foreignKeyColumn="FacilityID"/>
	    			<ForeignKeyLink dimension="AssessmentCategory" foreignKeyColumn="AssessmentCategoryTypeID"/>
	    			<ForeignKeyLink dimension="Medication" foreignKeyColumn="MedicationTypeID"/>
	    			<ForeignKeyLink dimension="Occupation" foreignKeyColumn="OccupationTypeID"/>
	    			<ForeignKeyLink dimension="Population" foreignKeyColumn="PopulationTypeID"/>
	    			<ForeignKeyLink dimension="MedicaidStatus" foreignKeyColumn="MedicaidStatusTypeID"/>
	    			<ForeignKeyLink dimension="BehavioralHealthEvaluationType" foreignKeyColumn="BehavioralHealthEvaluationTypeID"/>
	    			<ForeignKeyLink dimension="TreatmentProvider" foreignKeyColumn="TreatmentProviderTypeID"/>
	    			<ForeignKeyLink dimension="TreatmentStatus" foreignKeyColumn="TreatmentStatusTypeID"/>
	    			<ForeignKeyLink dimension="TreatmentAdmissionReason" foreignKeyColumn="TreatmentAdmissionReasonTypeID"/>
	    			<FactLink dimension="Episode Status"/>
	    		</DimensionLinks>
	    	</MeasureGroup>
	    </MeasureGroups>
    	  <CalculatedMembers>
    		<!--  We have to subtract 1 in the numerator because all of the zeros (from multiplying the JailEpisodeID * not-a-recidivist) will count as 1-->
			<CalculatedMember name="SixMonthRebookRate" caption="Six Month Rebooking Rate" dimension="Measures">
				<Formula><![CDATA[IIf([Measures].[Booking Count] > 0, ([Measures].[SixMonthRebookingCount]-1)  / [Measures].[Booking Count], 0)]]></Formula>
				<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
			</CalculatedMember>
			<CalculatedMember name="OneYearRebookRate" caption="One Year Rebooking Rate" dimension="Measures">
				<Formula><![CDATA[IIf([Measures].[Booking Count] > 0, ([Measures].[OneYearRebookingCount] -1)/ [Measures].[Booking Count], 0)]]></Formula>
				<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
			</CalculatedMember>
			<CalculatedMember name="TwoYearRebookRate" caption="Two Year Rebooking Rate" dimension="Measures">
				<Formula><![CDATA[IIf([Measures].[Booking Count] > 0,  ([Measures].[TwoYearRebookingCount] -1)/ [Measures].[Booking Count], 0)]]></Formula>
				<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
			</CalculatedMember>
			<CalculatedMember name="InTreatmentAtBookingRate" caption="In Treatment at Booking Rate" dimension="Measures">
				<Formula><![CDATA[IIf([Measures].[Booking Count] > 0,  ([Measures].[InTreatmentAtBookingCount] -1)/ [Measures].[Booking Count], 0)]]></Formula>
				<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
			</CalculatedMember>
			<CalculatedMember name="SMI Rate" caption="SMI Rate" dimension="Measures">
				<Formula><![CDATA[IIf([Measures].[Booking Count] > 0,  ([Measures].[SMICount] -1)/ [Measures].[Booking Count], 0)]]></Formula>
				<CalculatedMemberProperty name="FORMAT_STRING" value="#0.0 %"/>
			</CalculatedMember>
    	</CalculatedMembers>
	  </Cube>		
</Schema>